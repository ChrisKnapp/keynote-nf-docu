

Changes in 1.8.0 Beta 2  (19/08/2023)
=======================

* Fixed: High DPI displays. The application should scale correctly based on OS settings
  Set 'AppDPIAwarenessMode' in the app manifest as 'GDI Scaling'
  Ref: https://www.softacom.com/blog/windows_application_manifest_in_rad_studio/

* Added a new property, "Default Zoom": Allows to use a default value other than 100%
  Can be defined as default for the current file or for all the files.

* Changed behaviour of Zoom Text action.
  Usually new zoom value is set by selecting one of the items of the combo. In this case, clicking in one value
  will apply it ALL notes by default. If Ctrl is down while clicking, it will apply only to active note.
  If the new zoom value is typed in the control, pressing Intro will apply it to all notes. Pressing Ctrl+Intro
  will do nothing. To apply a typed zoom value only to the active note, click on the note while pressing Ctrl.

  Double click resets the zoom to <Default Zoom>%, as before. Now it is controlled also by Ctrl key.

  If pressing escape inside zoom combo, active note will gain focus, and no change will be done in any zoom.
  Deleting the combo will be similar to pressing Esc.

  Ctrl will control also the menu options 'Zoom in' and 'Zoom out'.

- - - - - - - - - - - 

* New option: Font size in Find All results
  In Advanced | Other tab

* Improved the display of node path in search results (when option "Show full node path in search results" is checked)
  I recommend to check the option "Show full node path in search results". The text of the node with the match is now 
  highlighted in the path.
  (Default value for "Show full node path in search results" is now True)

* Changed: The option "Reverse order" it is used now only with the the option "Show full node path in status bar".
  Node path in search results will always show top to bottom.

* Fixed: The option "Show full node path in search results" was not used. 
  It was always used "Show full node path in status bar" instead. Now both are available and are independent.

* Fixed: Find All with the option 'Current node and subtree' could ignore nodes from some point in certain situations

- - - - - - - - - - - 

* Several fixes and enhancements related to 'Note properties...'  and 'Default Settings...'

    - Changes in design and functionality in "Default settings.." (F6) and "Note properties.." (F4)
      - Only uses two tabs, "Note setting" and "Tree setting"
      - Allows you to use the current settings of a note tree as the default settings
        for all files or all notes in current file
      - The 'Inherit BG color from active node' property state is shown to clarify the reason for the color being
        displayed for the note (the logic is now the opposite)
      - Some small informative notes are added to clarify issues that can be confusing

    - Modified several captions and hints to avoid possible confusion between color of nodes and color of editor
    - Changed: Moved the option 'Inherit BG color from active node' from 'Tree panel' section to 'Rich Text editor'.

    - Added: Font and BG color can be changed for ALL tree panels at once
      Can be changed from active note (Note | Note properties...) or from default settings (Tools | Default settings...)
      In 'Tree settings' tab: "Apply to ALL tree notes"

    - Fixed: modifying the properties of a note (Note properties..[F4]) could cause font formatting to be lost in certain
      situations (bug existing from version 1.6.5).
      It seems to always happened when changing the properties of a note after the word wrap state on that note had 
      been changed (on the selected node or just by traversing nodes with different WodWrap state).
      Now it is solved and the word wrap option is also included in "Note properties..", not only in "Default settings.."
      Changes in the default font properties of a note should affect only to new nodes, not to existing nodes
      (exception: plain text only notes)

    - Fixed: sometimes the defined default font properties of the note where ignored on new nodes.
      The text written in the new node didn't use the correct font.

    - Fixed: Changes in tree font didn't update correctly
        Font changes in the tree (from 'Note Properties...') were not reflected on it on many occasions,
        precisely those in which we had not modified the background color.
          It was also happening that the font changes, when they were shown, did not give rise, many times,
        to a correct resizing of the height of each item.
        (These problems were of tree refresh. Saving and reopening the file would show up correctly.)

    - Fixed: Sometimes changes from Note Properties (F4) did not modify the status of the file (to modified)
      (eg. changing the editor font size for new nodes), or did not modify the status of the Save toolbar button

* Fixed: Making bold a tree node din't maintain other possible styles of the default TV font

- - - - - - - - - - - 

* Optimization in file open/save, mainly in native format
   Reduced load and save times, more notably in native format, where it's not needed to
   compress/decompress or encrypt/decrypt the file content.
   
   ** Note: Although reduction in time obtained for compressed format files is much less that for
   native format, I want to recall that it could be more convenient to use that format instead 
   of native format, specially if the file contains images, because of the way images are saved in RTF,
   at least in RichEdit control: images are saved in plain ascii, as hexadecimal values.
   
   I recommend seeing the results of some tests in which I compare the native format with the three options
   of the compressed format: Max, Default, Fastest 
   -> "Comments on KNT file formats.txt"     

- - - - - - - - - - - 

* Fixed: Exception while trying to insert a KNT link in a special case
  If it was checked the option General Settings | Tree Panel |"Reverse order" (TreeOptions.PathTopToBottom in keynote.ini),
  and was set the option TreeOptions.RelativeKNTLinks in keynote.ini, that hides common part of the path (common ancestors),
  and the inserting point of the KNT link was a descendant of the node with the target point, an exception would be thrown
  while looking for that common path.
 
* Fixed: Change in read-only state of a note => save button state
  Setting a note to read-only was marking the file as modified, but was not reflected in the save button
  
- - - - - - - - - - - 

* Fixed possible exceptions when no file was loaded
* Fixed exception by UpdateHistoryCommands in file without notes

- - - - - - - - - - - 

* Changes in log management
